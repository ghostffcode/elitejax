!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){n(this,t),this.config={},window.callback={},this.ajaxForm(this.getEl())}return a(t,[{key:"configure",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n={async:!0,cType:"application/json",resType:"json",callback:function(t){console.log(t)}};for(var r in n)void 0===e[r]&&(e[r]=n[r]);return this.config[t]=e,this.config[t]}},{key:"getEl",value:function(){var t=[],e=document.querySelectorAll("form");return Array.from(e).forEach(function(e){null!==e.getAttribute("data-elitejax")&&t.push(e)}),t}},{key:"getElVal",value:function(t){for(var e={},n=t.length,r=0;r<n;r++){var a=this.validInput(t[r]);a[0]&&(e[a[1]]=a[2])}return e}},{key:"validInput",value:function(t){var e=[!0,"",""],n=t.name.toLowerCase(),r=t.value,a=t.getAttribute("data-elitejax-x");return""!==n&&""!==r&&"submit"!==n&&"submit"!==r&&null===a?(e[1]=n,e[2]=r):e[0]=!1,e}},{key:"params",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],r="";r="jsonp"===e?"?"+r+"callback="+n:r;for(var a in t)""!==r&&(r+="&"),r+=a+"="+t[a];return r}},{key:"xmlParser",value:function(t){var e=null;return(e=window.DOMParser?function(t){return(new window.DOMParser).parseFromString(t,"text/xml")}:void 0!==r(window.ActiveXObject)&&new window.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(){return null})(t)}},{key:"ajaxForm",value:function(t){var e=this;t.forEach(function(t,n){t.addEventListener("submit",function(t){t.preventDefault();var n=t.target.getAttribute("name"),r=t.target.getAttribute("action"),a=t.target.getAttribute("method").toUpperCase(),o=e.getElVal(t.target.elements);e.ajaxIt(r,a,o,n)})})}},{key:"ajaxIt",value:function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];void 0!==this.config[r]&&null!==this.config[r]||this.configure(r);var a=this.config[r],o=a.async,i=a.cType,u=a.resType,c=a.callback,l=new XMLHttpRequest;if(l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=this.responseText;"json"===u?(t=JSON.parse(t),c(t)):"xml"===u?(t=this.xmlParser(t),c(t)):c(t)}},"GET"===e&&"jsonp"!==u)l.open(e,t+"?"+this.params(n),o),l.setRequestHeader("Content-type",i),l.send();else if("GET"===e&&"jsonp"===u){var s=document.createElement("script");s.type="text/javascript";var f="ej_"+Date.now();window.callback[f]=c,s.src=t+this.params(n,u,"callback."+f),document.getElementsByTagName("head")[0].appendChild(s)}else l.open(e,t,o),l.setRequestHeader("Content-type",i),l.send(this.params(n))}}]),t}(),i=function(){return new o};window.ej=window.elitejax=i()}]);
//# sourceMappingURL=elitejax.min.js.map